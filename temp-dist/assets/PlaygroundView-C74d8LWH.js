import{_ as T,r as d,c as w,a,o as l,b as s,d as $,e as A,f as N,F as S,g as z,w as I,v as P,h as m,t as h,n as F}from"./index-UdmPU5Gk.js";const x="http://localhost:8080",H={baseUrl:x,endpoints:{playground:{execute:`${x}/api/playground/execute`},editor:{runCode:`${x}/api/v1/run-code`,aiExplanation:`${x}/api/v1/ai-explanation`,testAi:`${x}/api/v1/test-ai`}}},R={class:"playground"},V={class:"playground-content"},M={class:"examples-panel"},B={class:"examples-list"},U=["onClick"],D={class:"main-playground"},Z={class:"editor-section"},j={class:"code-editor"},O={class:"editor-container"},J=["innerHTML"],Q={class:"execution-controls"},q=["disabled"],G={key:0},K={key:1},W={class:"results-section"},X={key:0,class:"error-display"},Y={key:1,class:"result-display"},ee={class:"result-content"},se={key:2,class:"explanation-display"},te={class:"explanation-content"},ne={key:3,class:"steps-display"},ae={class:"steps-content"},le=["innerHTML"],oe={key:4,class:"empty-state"},de={__name:"PlaygroundView",setup(ie){const o=d("#x.x"),i=d(""),u=d(""),p=d(""),g=d(!1),n=d(""),v=d(null),r=d(null),f=[{name:"Identity Function",code:"#x.x",description:"The simplest lambda expression - returns its input unchanged"},{name:"Constant Function",code:"#x.#y.x",description:"Returns the first argument, ignoring the second"},{name:"Church Numeral 0",code:"#f.#x.x",description:"Church encoding of the number zero"},{name:"Church Numeral 1",code:"#f.#x.f x",description:"Church encoding of the number one"},{name:"Church Numeral 2",code:"#f.#x.f (f x)",description:"Church encoding of the number two"}],y=w(()=>{if(!o.value)return"";let t=o.value;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/#/g,'<span class="token-lambda">#</span>'),t=t.replace(/\b([a-zA-Z])\b(?!\s*\.)/g,'<span class="token-variable">$1</span>'),t=t.replace(/\./g,'<span class="token-operator">.</span>'),t=t.replace(/[()]/g,'<span class="token-paren">$&</span>'),t=t.replace(/\/\/.*$/gm,'<span class="token-comment">$&</span>'),t=t.replace(/\n/g,"<br>"),t}),b=()=>{F(()=>{r.value&&(r.value.scrollTop=v.value.scrollTop,r.value.scrollLeft=v.value.scrollLeft)})},_=()=>{r.value&&v.value&&(r.value.scrollTop=v.value.scrollTop,r.value.scrollLeft=v.value.scrollLeft)},k=t=>{o.value=t.code,i.value="",u.value="",p.value="",n.value="",b()},C=async()=>{if(!o.value.trim()){n.value="Please enter some code to execute";return}g.value=!0,n.value="",i.value="",u.value="",p.value="";try{const e=await(await fetch(H.endpoints.playground.execute,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:o.value.trim()})})).json();e.success?(i.value=e.result,u.value=e.steps,p.value=e.explanation):n.value=e.error||"An error occurred while executing the code"}catch{n.value="Failed to connect to the server. Please make sure the backend is running."}finally{g.value=!1}},E=()=>{o.value="",i.value="",u.value="",p.value="",n.value="",b()},L=t=>{if(!t)return"";let e=t;return e=e.replace(/\n/g,"<br>"),e=e.replace(/‚Üí/g,"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚Üí"),e=e.replace(/=/g,"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = "),e=e.replace(/\?/g,"&nbsp;&nbsp; "),e=e.replace(new RegExp("(?<!^)~","g"),"<br><br>~"),e=e.replace(/>>>>> Results <<<<<(.*?)$/s,">>>>> Results <<<<<$1"),e=e.replace(/(#[a-zA-Z]+\.[a-zA-Z#.\s()]+)/g,'<strong style="color: #fbbf24;">$1</strong>'),e};return(t,e)=>(l(),a("div",R,[e[9]||(e[9]=s("div",{class:"playground-header"},[s("h1",null,[s("img",{src:N,alt:"Lazer",class:"playground-icon"}),A(" Lazer Playground")]),s("p",null,"Experiment with impure lambda calculus expressions and get AI-powered explanations")],-1)),s("div",V,[s("div",M,[e[1]||(e[1]=s("h3",null,"üìö Examples",-1)),s("div",B,[(l(),a(S,null,z(f,c=>s("div",{key:c.name,class:"example-item",onClick:re=>k(c)},[s("h4",null,h(c.name),1),s("code",null,h(c.code),1),s("p",null,h(c.description),1)],8,U)),64))])]),s("div",D,[s("div",Z,[s("div",{class:"section-header"},[e[2]||(e[2]=s("h3",null,"üíª Code Editor",-1)),s("div",{class:"editor-actions"},[s("button",{onClick:E,class:"btn btn-secondary btn-small"},"Clear")])]),s("div",j,[s("div",O,[I(s("textarea",{"onUpdate:modelValue":e[0]||(e[0]=c=>o.value=c),placeholder:"Enter your Lazer code here... e.g., #x.x",class:"code-input",rows:"8",spellcheck:"false",onInput:b,onScroll:_,ref_key:"codeInput",ref:v},null,544),[[P,o.value]]),s("div",{class:"syntax-highlighting",ref_key:"syntaxHighlighting",ref:r,innerHTML:y.value},null,8,J)])]),s("div",Q,[s("button",{onClick:C,disabled:g.value,class:"btn btn-primary"},[g.value?(l(),a("span",G,"‚è≥ Executing...")):(l(),a("span",K,"‚ñ∂Ô∏è Execute Code"))],8,q)])]),s("div",W,[e[8]||(e[8]=s("div",{class:"section-header"},[s("h3",null,"üìä Execution Results")],-1)),n.value?(l(),a("div",X,[e[3]||(e[3]=s("h4",null,"‚ùå Error",-1)),s("p",null,h(n.value),1)])):m("",!0),i.value&&!n.value?(l(),a("div",Y,[e[4]||(e[4]=s("h4",null,"‚úÖ Result",-1)),s("div",ee,[s("code",null,h(i.value),1)])])):m("",!0),p.value&&!n.value?(l(),a("div",se,[e[5]||(e[5]=s("h4",null,"ü§ñ AI Explanation",-1)),s("div",te,[s("p",null,h(p.value),1)])])):m("",!0),u.value&&!n.value?(l(),a("div",ne,[e[6]||(e[6]=s("h4",null,"üìã Execution Steps",-1)),s("div",ae,[s("div",{innerHTML:L(u.value)},null,8,le)])])):m("",!0),!i.value&&!n.value&&!g.value?(l(),a("div",oe,[...e[7]||(e[7]=[s("p",null,'üëÜ Enter some Lazer code above and click "Execute Code" to see results',-1)])])):m("",!0)])])]),e[10]||(e[10]=$('<div class="help-section" data-v-04d6563d><h3 data-v-04d6563d>üìñ Quick Reference</h3><div class="help-content" data-v-04d6563d><div class="help-item" data-v-04d6563d><strong data-v-04d6563d>Lambda Notation:</strong> Use <code data-v-04d6563d>#</code> instead of <code data-v-04d6563d>Œª</code></div><div class="help-item" data-v-04d6563d><strong data-v-04d6563d>Function Definition:</strong> <code data-v-04d6563d>#x.body</code> defines a function with parameter x </div><div class="help-item" data-v-04d6563d><strong data-v-04d6563d>Function Application:</strong> <code data-v-04d6563d>f x</code> applies function f to argument x </div><div class="help-item" data-v-04d6563d><strong data-v-04d6563d>Multiple Parameters:</strong> <code data-v-04d6563d>#x.#y.body</code> or curried functions </div></div></div>',1))]))}},ue=T(de,[["__scopeId","data-v-04d6563d"]]);export{ue as default};
